<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>先駆シェフの献立メーカー｜もふみつ工房</title>
    <meta name="description" content="冷蔵庫の余ってる食材を入れるだけ！料理狂い先駆シェフが淡々と最高の献立を提案してくれる実用ツール">
    
    <!-- ★ここ追加！FontAwesome（アイコン）をCDNで読み込み -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
        :root{--main:#e67e22;--sub:#f39c12;--accent:#ff6b35;--bg:#fff8f0;--light:#fdfd96;--gold:#d4a017;--brown:#8b4513;}
        
        /* 全体のボックスサイズ計算を統一して崩れにくくする */
        *, *::before, *::after { box-sizing: border-box; }

        body{font-family:'Segoe UI',sans-serif;background:linear-gradient(to bottom,var(--bg),#ffe8d6);color:#333;margin:0;padding:0;min-height:100vh;display:flex;flex-direction:column;}
        
        /* ヘッダーデザイン */
        .header{text-align:center;padding:40px 15px;background:linear-gradient(135deg,#ffdab9,#ff8c00);color:var(--brown);box-shadow:0 10px 30px rgba(0,0,0,0.2);position:relative;border-bottom:8px solid var(--gold);}
        .header::before{content:"";position:absolute;top:0;left:0;right:0;bottom:0;background:repeating-linear-gradient(45deg, rgba(255,255,255,0.1), rgba(255,255,255,0.1) 10px, transparent 10px, transparent 20px);opacity:0.5;}
        
        /* ★タイトル枠と装飾（豪華版） */
        .title-box {
            display: inline-block;
            background: rgba(255, 255, 255, 0.9);
            border: 5px double var(--main); /* 二重線で豪華に */
            border-radius: 15px;
            padding: 20px 40px;
            box-shadow: 0 8px 16px rgba(0,0,0,0.15);
            position: relative;
            margin-bottom: 20px;
        }
        /* ナイフとフォークのアイコン色 */
        .fa-utensils { color: var(--gold); margin: 0 15px; filter: drop-shadow(1px 1px 0 var(--brown)); }

        .title-main{
            font-size:42px; /* スマホ考慮して少し調整 */
            font-weight:900;
            margin:0;
            letter-spacing:3px;
            text-shadow:2px 2px 0px #fff, 4px 4px 10px rgba(0,0,0,0.2);
            color:var(--main);
            display: inline-block;
        }
        ruby { font-family: inherit; }
        rt { color: var(--main); font-size: 14px; font-weight: bold; transform: translateY(-3px); }

        .title-sub{font-size:18px;margin-top:10px;color:var(--brown);opacity:1;font-weight:bold;display:block;}
        
        .senku-main{width:300px;height:400px;max-width:80%;margin:20px auto;background:var(--main);border-radius:30px;border:6px solid var(--gold);
            background-image:url('senku-main.png');background-size:cover;background-position:center;
            box-shadow:0 25px 50px rgba(0,0,0,0.4);transition:transform 0.3s,background-image 0.3s;}
        .senku-main:hover{transform:scale(1.03);}
        
        /* コンテナ（メインエリア） */
        .container{
            width: 95%; /* 幅を画面いっぱいになりすぎないように */
            max-width:800px;
            margin: -30px auto 40px; /* ヘッダーに少しかぶせる */
            background:white;
            padding: 30px; /* PCでのパディング */
            border-radius:30px;
            box-shadow:0 15px 40px rgba(0,0,0,0.2);
            flex:1;
            position:relative;
            border:4px solid var(--gold);
            z-index: 10; /* ヘッダーより手前に */
        }
        
        input{padding:15px;width:100%;border:3px solid #eee;border-radius:15px;font-size:18px;margin:20px 0;box-shadow:inset 0 4px 8px rgba(0,0,0,0.1);background:#fffaf0;}
        button{background:var(--main);color:white;border:none;padding:15px 30px;border-radius:50px;cursor:pointer;font-weight:bold;font-size:18px;margin:10px 5px;box-shadow:0 6px 12px rgba(0,0,0,0.2); transition: all 0.2s;}
        button:hover{background:#d35400;transform:translateY(-2px);}
        .random-btn{background:#95a5a6;}
        .random-btn:hover{background:#7f8c8d;}
        
        .tags{display:flex;flex-wrap:wrap;gap:10px;margin:20px 0;justify-content:center;}
        .tag{background:var(--sub);color:white;padding:8px 20px;border-radius:50px;font-size:15px;box-shadow:0 4px 8px rgba(0,0,0,0.2);}
        
        .result{margin-top:40px;padding:30px;background:var(--light);border-radius:25px;display:none;position:relative;border:4px dashed var(--gold);}
        
        /* ミニ先駆：吹き出し（::after）を削除してスッキリさせたよ */
        .senku-mini{
            position:absolute;
            bottom:-60px;
            right:10px;
            width:120px;
            height:120px;
            background:var(--main);
            border-radius:50%;
            background-image:url('senku-mini.png');
            background-size:cover;
            z-index:10;
            box-shadow:0 10px 20px rgba(0,0,0,0.4);
            border:4px solid var(--gold);
        }
        
        /* レシピカードのデザイン調整（スマホで見やすく） */
        .dish{
            background:white;
            padding:20px;
            margin:20px 0;
            border-radius:20px;
            border-left:8px solid var(--accent);
            box-shadow:0 5px 15px rgba(0,0,0,0.15);
            border-top:2px solid var(--gold);
            border-bottom:2px solid var(--gold);
        }
        .name{font-size:24px;font-weight:900;color:var(--accent);text-align:center;margin-bottom:10px;line-height:1.4;}
        .info{font-size:15px;color:#777;text-align:center;margin:10px 0;}
        .ingredients{background:#f8f8f8;padding:15px;border-radius:12px;font-size:16px;margin:15px 0;border:2px dotted var(--main); line-height: 1.6;}
        .steps{line-height:2;margin:20px 0;font-size:16px;}
        .steps ol { padding-left: 20px; margin: 0; }
        .steps li { margin-bottom: 10px; }
        
        .comment{font-style:italic;color:#555;background:#f0f0f0;padding:20px;border-radius:15px;font-size:16px;margin:25px 0;border-left:6px solid var(--main);box-shadow:0 3px 6px rgba(0,0,0,0.1);}
        
        .action-buttons{display:flex;gap:15px;justify-content:center;margin:30px 0;flex-wrap:wrap;}
        .copy-btn,.share-btn{background:#3498db;color:white;padding:12px 30px;border-radius:50px;font-size:18px;cursor:pointer;box-shadow:0 5px 10px rgba(0,0,0,0.2); display: flex; align-items: center; gap: 8px;}
        .share-btn{background:#2ecc71;}
        
        footer{text-align:center;padding:50px 20px;background:#fff8f0;border-top:5px solid var(--gold); margin-top: auto;}
        .back-top{background:var(--main);color:white;padding:15px 40px;border-radius:50px;font-size:18px;text-decoration:none;display:inline-block;margin:20px;box-shadow:0 8px 15px rgba(0,0,0,0.3);}
        .rakuten-banner{margin:30px auto;padding:15px;background:#fffaf0;border:3px solid var(--gold);border-radius:20px; max-width: 90%;}

        /* ★スマホ対応（レスポンシブ） */
        @media(max-width:600px){
            .header { padding: 30px 10px; }
            .title-box { padding: 15px 20px; border-width: 4px; width: 95%; }
            .title-main{font-size:28px; letter-spacing: 1px;}
            .fa-utensils { font-size: 20px; margin: 0 5px; } /* アイコンサイズ調整 */
            
            .senku-main{width:220px;height:293px;}
            
            .container { 
                padding: 20px; /* 余白を減らす */
                margin-top: -20px;
                border-width: 3px;
            }
            
            .result { padding: 20px; }
            .senku-mini{width:90px;height:90px;bottom:-45px;right:0;}
            
            .name{font-size:22px;}
            .dish { padding: 15px; }
            .steps, .ingredients, .comment { font-size: 15px; }
            
            input { font-size: 16px; padding: 12px; }
            button { padding: 12px 25px; font-size: 16px; width: 100%; margin: 5px 0; } /* ボタンを縦並びいっぱいに */
        }
    </style>
</head>
<body>
    <div class="header">
        <!-- 豪華な枠付きタイトル -->
        <div class="title-box">
            <h1 class="title-main">
                <i class="fas fa-utensils"></i>
                <ruby>先駆<rt>せんく</rt></ruby>シェフの献立メーカー
                <i class="fas fa-utensils"></i>
            </h1>
            <div class="title-sub">～冷蔵庫にあるもので即決～</div>
        </div>
        <div class="senku-main" id="senkuMain"></div>
    </div>

    <div class="container">
        <p style="text-align:center;color:#777;font-size:18px;margin:20px 0;">冷蔵庫にある食材を<br>スペースで区切って入れてくれ</p>
        <input type="text" id="input" placeholder="例：鶏もも肉 玉ねぎ 卵" autofocus>
        <div style="text-align:center;margin:30px 0;">
            <button onclick="search()"><i class="fas fa-search"></i> 献立を決める</button>
            <button class="random-btn" onclick="randomMenu()"><i class="fas fa-dice"></i> 今日の俺の気分</button>
        </div>
        <div class="tags" id="tags"></div>

        <div class="result" id="result">
            <div id="dish-output"></div>
            <!-- 「にやって」の文字はCSS削除で消えたよ！ -->
            <div class="senku-mini" id="miniSenku" style="display:none;"></div>
            
            <button onclick="search()" style="margin-top:30px;background:#7f8c8d;width:100%;"><i class="fas fa-redo"></i> 別の案をくれ</button>
        </div>
    </div>

    <footer>
        <div class="rakuten-banner">
            <a href="https://hb.afl.rakuten.co.jp/hsc/4e9240a2.33577567.3d95c766.8a7897b5/?link_type=pict&ut=eyJwYWdlIjoic2hvcCIsInR5cGUiOiJwaWN0IiwiY29sIjoxLCJjYXQiOiI4NSIsImJhbiI6NDc4OTczLCJhbXAiOmZhbHNlfQ%3D%3D" target="_blank" rel="nofollow sponsored noopener">
                <img src="https://hbb.afl.rakuten.co.jp/hsb/4e9240a2.33577567.3d95c766.8a7897b5/?me_id=1&me_adv_id=478973&t=pict" border="0" alt="楽天アフィリエイト" style="max-width:100%;">
            </a>
        </div>
        <a href="https://mofu-mitsu.github.io/" class="back-top"><i class="fas fa-home"></i> もふみつ工房 TOPへ戻る</a>
    </footer>

    <script>
        const normalize = (str) => str.trim();

        // まばたきアニメ（メインのみ）
        function blink() {
            const main = document.getElementById('senkuMain');
            if (main) {
                main.style.backgroundImage = "url('senku-main-blink.png')";
                setTimeout(() => {
                    main.style.backgroundImage = "url('senku-main.png')";
                }, 150);
            }
        }
        setInterval(blink, 4500);
        setTimeout(blink, 1800);

        // レシピ決定時の表情変化
        function showRandomDish() {
            const matched = [];
            if (!currentIngredients || currentIngredients.length === 0) return;

            for (const pair of data.pairs) {
                const normalizedPair = pair.ingredients.map(normalize);
                const hitCount = normalizedPair.filter(i => currentIngredients.includes(i)).length;
                if (hitCount >= normalizedPair.length - 1) matched.push(...pair.recipes);
            }

            const output = document.getElementById('dish-output');
            const main = document.getElementById('senkuMain');
            const mini = document.getElementById('miniSenku');

            if (matched.length === 0) {
                output.innerHTML = '<div class="dish" style="text-align:center;">……ちょっと厳しい組み合わせだな。<br>でも冷蔵庫もう一回見てみろよ。</div>';
                if (main) main.style.backgroundImage = "url('senku-main-majime.png')";
                setTimeout(() => {
                    if (main) main.style.backgroundImage = "url('senku-main.png')";
                }, 3000);
            } else {
                const dish = matched[Math.floor(Math.random() * matched.length)];
                currentDishText = `${dish.name}\n難易度：${dish.difficulty}　約${dish.time_min}分\n\n【材料】\n${dish.ingredients.join("\n")}\n\n【手順】\n${dish.steps.map((s,i)=>`${i+1}. ${s}`).join("\n")}\n\n「${dish.senku_comment}」`;

                output.innerHTML = `
                    <div class="dish">
                        <div class="name">${dish.name}</div>
                        <div class="info"><i class="fas fa-chart-line"></i> ${dish.difficulty}　<i class="fas fa-clock"></i> 約${dish.time_min}分</div>
                        <div class="ingredients"><strong><i class="fas fa-carrot"></i> 材料：</strong><br>${dish.ingredients.join("　／　")}</div>
                        <div class="steps"><strong><i class="fas fa-fire"></i> 手順</strong><br><ol start="1">
                            ${dish.steps.map(s => `<li>${s}</li>`).join('')}
                        </ol></div>
                        <div class="comment">「${dish.senku_comment}」</div>
                        <div class="action-buttons">
                            <div class="copy-btn" onclick="copyOnly()"><i class="far fa-copy"></i> コピー</div>
                            <div class="share-btn" onclick="shareRecipe()"><i class="fas fa-share-alt"></i> 共有</div>
                        </div>
                    </div>
                `;
                if (main) main.style.backgroundImage = "url('senku-main-niya.png')";
                setTimeout(() => {
                    if (main) main.style.backgroundImage = "url('senku-main.png')";
                }, 3000);
            }
            document.getElementById('result').style.display = 'block';
            mini.style.display = 'block';
            document.getElementById('result').scrollIntoView({behavior: "smooth"});
        }

        let currentIngredients = [];
        let currentDishText = "";

        document.getElementById('input').addEventListener('keypress', e => {
            if (e.key === 'Enter') search();
        });

        function search() {
            const raw = document.getElementById('input').value.trim();
            if (!raw) return;
            currentIngredients = raw.split(/\s+/).map(normalize);
            updateTags();
            showRandomDish();
        }

        function updateTags() {
            const tagsDiv = document.getElementById('tags');
            tagsDiv.innerHTML = '';
            currentIngredients.forEach(t => {
                const tag = document.createElement('span');
                tag.className = 'tag';
                tag.textContent = t;
                tagsDiv.appendChild(tag);
            });
        }

        function copyOnly() {
            navigator.clipboard.writeText(currentDishText).then(() => {
                alert("レシピをコピーしたぞ");
            });
        }

        function shareRecipe() {
            if (navigator.share) {
                navigator.share({
                    title: "先駆シェフの献立",
                    text: currentDishText
                }).catch(() => fallbackCopy());
            } else {
                fallbackCopy();
            }
        }

        function fallbackCopy() {
            navigator.clipboard.writeText(currentDishText).then(() => {
                alert("共有できない環境だからコピーしたぞ");
            });
        }

        function randomMenu() {
            const randomPair = data.pairs[Math.floor(Math.random() * data.pairs.length)];
            document.getElementById('input').value = randomPair.ingredients.join(" ");
            search();
        }

        // data定義
        const data = { "pairs": [
            {"ingredients":["鶏もも肉","玉ねぎ"],"recipes":[
                {"name":"親子丼（簡単）","ingredients":["鶏もも肉 200g","玉ねぎ 1/2個","卵 2個","めんつゆ（3倍希釈）150ml","水 100ml"],"time_min":15,"difficulty":"★☆☆","steps":["玉ねぎ薄切りで強火1分炒める","鶏肉一口大入れて一緒に炒める","めんつゆ＋水で煮立て中火5分","溶き卵2回に分けて流し入れ30秒で完成"],"senku_comment":"玉ねぎの甘さは最初に炒めることで出る。失敗しようがない。" },
                {"name":"鶏のガーリックソテー","ingredients":["鶏もも肉 200g","玉ねぎ 1/4個","にんにく 1片","オリーブオイル 大さじ1","塩 小さじ1/2","黒胡椒 適量","レモン汁 少々"],"time_min":20,"difficulty":"★★☆","steps":["鶏肉に塩胡椒","強火で皮目から焼き目","玉ねぎとにんにくスライス投入","裏返して蓋して弱火4分","レモン絞って完成"],"senku_comment":"焼き目が命。レモンあるなら絶対絞れ。" }
            ]},
            {"ingredients":["豚肉","キャベツ"],"recipes":[
                {"name":"超簡単回鍋肉","ingredients":["豚薄切り肉 150g","キャベツ 1/4個","甜麺醤 大さじ1","豆板醤 小さじ1","醤油 大さじ1","酒 大さじ1","ごま油 適量"],"time_min":20,"difficulty":"★★☆","steps":["豚は酒少々で下茹で","ごま油で豚→キャベツの順で強火炒め","調味料全部入れて1分絡める"],"senku_comment":"キャベツは最後に30秒。シャキシャキ残すのがプロ。" }
            ]},
            {"ingredients":["ツナ缶","キャベツ"],"recipes":[
                {"name":"ツナキャベツ","ingredients":["ツナ缶 1缶（油ごと）","キャベツ 好きなだけ","塩胡椒 適量","マヨネーズ お好みで"],"time_min":5,"difficulty":"★☆☆","steps":["キャベツざく切り","ツナ缶油ごと全部ぶち込む","塩胡椒だけ","マヨネーズかけてもうまい"],"senku_comment":"これ最強。5分で食える。俺の冷蔵庫常備。" }
            ]},
            {"ingredients":["さば","大根"],"recipes":[
                {"name":"さばの味噌煮＋大根添え","ingredients":["さば切り身 2切れ","大根 1/4本","味噌 大さじ2","酒 大さじ3","みりん 大さじ2","砂糖 大さじ1","生姜 薄切り5枚","水 200ml"],"time_min":30,"difficulty":"★★★","steps":["大根は面取りして下茹で","さばは焼いて臭み取り","全部鍋にぶち込んで中火15分","味噌は最後溶き入れ"],"senku_comment":"時間かかるけど丁寧にやれば家庭の味になる。冬に最高。" }
            ]},
            {"ingredients":["ほうれん草","卵"],"recipes":[
                {"name":"ほうれん草の卵とじ","ingredients":["ほうれん草 1/2束","卵 2個","だし 150ml","醤油 大さじ1","みりん 小さじ1"],"time_min":10,"difficulty":"★☆☆","steps":["ほうれん草はさっと茹でて3cmに切る","だし＋醤油＋みりんで煮る","溶き卵でふんわりとじる"],"senku_comment":"シンプルだけど栄養満点。朝でもいける。" }
            ]},
            {"ingredients":["豆腐","ねぎ","生姜"],"recipes":[
                {"name":"冷や奴アレンジ","ingredients":["豆腐 1丁","ねぎ たっぷり","生姜すりおろし 山盛り","醤油 適量"],"time_min":3,"difficulty":"★☆☆","steps":["豆腐冷たいまま","ねぎみじん切り＋生姜すりおろし","醤油はかけすぎ厳禁"],"senku_comment":"これで完結。味が死ぬから醤油は控えめにな。" }
            ]},
            {"ingredients":["鮭","ほうれん草"],"recipes":[
                {"name":"鮭とほうれん草のクリーム煮","ingredients":["鮭切り身 2切れ","ほうれん草 1/2束","牛乳 200ml","バター 10g","小麦粉 大さじ1","コンソメ 小さじ1","塩胡椒 適量"],"time_min":20,"difficulty":"★★☆","steps":["鮭に塩して両面焼く","ほうれん草は茹でて水気切る","バターで小麦粉炒めて牛乳で伸ばす","コンソメで味調整して具材投入"],"senku_comment":"味はコンソメで決まる。パンでもご飯でも絶対いける。" }
            ]}
        ]};
    </script>
</body>
</html>