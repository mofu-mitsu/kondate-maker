<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å…ˆé§†ã‚·ã‚§ãƒ•ã®çŒ®ç«‹ãƒ¡ãƒ¼ã‚«ãƒ¼ï½œã‚‚ãµã¿ã¤å·¥æˆ¿</title>
    <meta name="description" content="å†·è”µåº«ã®ä½™ã£ã¦ã‚‹é£Ÿæã‚’å…¥ã‚Œã‚‹ã ã‘ï¼æ–™ç†ç‹‚ã„å…ˆé§†ã‚·ã‚§ãƒ•ãŒæ·¡ã€…ã¨æœ€é«˜ã®çŒ®ç«‹ã‚’ææ¡ˆã—ã¦ãã‚Œã‚‹å®Ÿç”¨ãƒ„ãƒ¼ãƒ«">
    <meta property="og:title" content="å…ˆé§†ã‚·ã‚§ãƒ•ã®çŒ®ç«‹ãƒ¡ãƒ¼ã‚«ãƒ¼ï½œã‚‚ãµã¿ã¤å·¥æˆ¿">
    <meta property="og:description" content="å†·è”µåº«ã®ä½™ã£ã¦ã‚‹é£Ÿæã‚’å…¥ã‚Œã‚‹ã ã‘ï¼å…ˆé§†ã‚·ã‚§ãƒ•ãŒæ·¡ã€…ã¨æœ€é«˜ã®çŒ®ç«‹ã‚’ææ¡ˆã—ã¦ãã‚Œã‚‹ã‚ˆ">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://mofu-mitsu.github.io/kondate-maker/">
    <meta property="og:image" content="https://mofu-mitsu.github.io/kondate-maker/OGP.PNG">
    <meta property="og:site_name" content="ã‚‚ãµã¿ã¤å·¥æˆ¿">
    <link rel="icon" href="https://mofu-mitsu.github.io/favicon.ico" type="image/x-icon">
    <style>
        :root{--main:#e67e22;--sub:#f39c12;--accent:#ff6b35;--bg:#fff8f0;--light:#fdfd96;}
        body{font-family:'Segoe UI',sans-serif;background:linear-gradient(to bottom,#fff8f0,#ffe8d6);color:#333;margin:0;padding:0;min-height:100vh;display:flex;flex-direction:column;}
        .header{text-align:center;padding:30px 20px;background:linear-gradient(135deg,#ff9d6c,#ff6b35);color:white;box-shadow:0 8px 20px rgba(0,0,0,0.2);}
        .title-main{font-size:42px;font-weight:900;margin:10px 0;letter-spacing:3px;text-shadow:3px 3px 6px rgba(0,0,0,0.4);}
        .title-sub{font-size:18px;margin:5px 0;opacity:0.9;}
        .title-ruby{font-size:20px;color:#fff8c0;margin-bottom:10px;}
        .senku-main{width:300px;height:400px;max-width:90%;margin:20px auto;background:var(--main);border-radius:20px;
            background-image:url('senku-main.png');background-size:cover;background-position:center;
            box-shadow:0 15px 30px rgba(0,0,0,0.3);}
        .senku-main.fallback{background:#e67e22 url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 600 800"><rect width="600" height="800" fill="%23e67e22"/><text x="300" y="380" text-anchor="middle" fill="white" font-size="60">å…ˆé§†</text><text x="300" y="460" text-anchor="middle" fill="white" font-size="40">ã‚·ã‚§ãƒ•</text></svg>') center/cover;}
        .container{max-width:800px;margin:0 auto;background:white;padding:30px;border-radius:20px;box-shadow:0 10px 30px rgba(0,0,0,0.1);flex:1;position:relative;}
        input{padding:18px;width:100%;border:3px solid #eee;border-radius:16px;font-size:18px;box-sizing:border-box;margin:15px 0;box-shadow:inset 0 3px 6px rgba(0,0,0,0.1);}
        button{background:var(--main);color:white;border:none;padding:16px 32px;border-radius:16px;cursor:pointer;font-weight:bold;font-size:18px;margin:8px;}
        button:hover{background:#d35400;}
        .random-btn{background:#95a5a6;}
        .random-btn:hover{background:#7f8c8d;}
        .tags{display:flex;flex-wrap:wrap;gap:12px;margin:20px 0;justify-content:center;}
        .tag{background:var(--sub);color:white;padding:10px 20px;border-radius:50px;font-size:15px;box-shadow:0 4px 8px rgba(0,0,0,0.2);}
        .result{margin-top:40px;padding:30px;background:var(--light);border-radius:20px;display:none;position:relative;}
        .senku-mini{position:absolute;bottom:-60px;right:20px;width:150px;height:150px;background:var(--main);border-radius:50%;background-image:url('senku-mini.png');background-size:cover;z-index:10;box-shadow:0 10px 20px rgba(0,0,0,0.3);}
        .senku-mini::after{content:"ã«ã‚„ã£ã¦";font-size:14px;background:rgba(0,0,0,0.6);color:white;padding:8px 15px;border-radius:20px;position:absolute;bottom:10px;left:50%;transform:translateX(-50%);white-space:nowrap;}
        .dish{background:white;padding:25px;margin:20px 0;border-radius:16px;border-left:8px solid var(--accent);box-shadow:0 6px 15px rgba(0,0,0,0.15);}
        .name{font-size:28px;font-weight:900;color:var(--accent);margin-bottom:10px;text-align:center;}
        .info{font-size:16px;color:#777;text-align:center;margin:10px 0;}
        .ingredients{background:#f8f8f8;padding:18px;border-radius:12px;font-size:16px;margin:15px 0;}
        .steps{line-height:2.2;margin:25px 0;font-size:16px;}
        .comment{font-style:italic;color:#555;background:#f0f0f0;padding:20px;border-radius:16px;font-size:17px;margin:25px 0;border-left:6px solid var(--main);}
        .action-buttons{display:flex;gap:20px;justify-content:center;margin:30px 0;flex-wrap:wrap;}
        .copy-btn,.share-btn{background:#3498db;color:white;padding:16px 32px;border-radius:50px;font-size:22px;cursor:pointer;box-shadow:0 6px 12px rgba(0,0,0,0.2);}
        .share-btn{background:#2ecc71;}
        .copy-btn:hover{background:#2980b9;}
        .share-btn:hover{background:#27ae60;}
        footer{text-align:center;padding:50px 20px;background:#fff8f0;}
        .back-top{background:var(--main);color:white;padding:16px 40px;border-radius:50px;font-size:20px;text-decoration:none;display:inline-block;margin:20px;box-shadow:0 8px 16px rgba(0,0,0,0.2);}
        .back-top:hover{background:#d35400;}
        .rakuten-banner{margin:30px 0;}
        @media(max-width:600px){
            .title-main{font-size:32px;}
            .senku-main{width:250px;height:333px;}
            .senku-mini{width:120px;height:120px;bottom:-50px;right:10px;}
            .name{font-size:24px;}
        }
    </style>
</head>
<body>
    <div class="header">
        <div class="title-ruby">ã›ã‚“ã ã‚·ã‚§ãƒ• â†’ <strong>å…ˆé§†ã‚·ã‚§ãƒ•</strong></div>
        <div class="title-main">å…ˆé§†ã‚·ã‚§ãƒ•ã®çŒ®ç«‹ãƒ¡ãƒ¼ã‚«ãƒ¼</div>
        <div class="title-sub">ï½å†·è”µåº«ã«ã‚ã‚‹ã‚‚ã®ã§å³æ±ºï½</div>
        <div class="senku-main ${'senku-main.png'?'':'fallback'}"></div>
    </div>
    <div class="container">
        <p style="text-align:center;color:#777;margin-bottom:20px;">å†·è”µåº«ã«ã‚ã‚‹é£Ÿæã‚’ã‚¹ãƒšãƒ¼ã‚¹ã§åŒºåˆ‡ã£ã¦å…¥ã‚Œã¦ãã‚Œ</p>
        <input type="text" id="input" placeholder="ä¾‹ï¼šé¶ã‚‚ã‚‚è‚‰ ç‰ã­ã åµ" autofocus>
        <div style="text-align:center;margin:20px 0;">
            <button onclick="search()">çŒ®ç«‹ã‚’æ±ºã‚ã‚‹</button>
            <button class="random-btn" onclick="randomMenu()">ä»Šæ—¥ã®ä¿ºã®æ°—åˆ†</button>
        </div>
        <div class="tags" id="tags"></div>

        <div class="result" id="result">
            <div id="dish-output"></div>
            <button onclick="search()" style="margin-top:20px;background:#7f8c8d;">åˆ¥ã®æ¡ˆã‚’ãã‚Œ</button>
        </div>
    </div>
    <footer>
        <div class="rakuten-banner">
            <a href="https://hb.afl.rakuten.co.jp/hsc/4e9240a2.33577567.3d95c766.8a7897b5/?link_type=pict&ut=eyJwYWdlIjoic2hvcCIsInR5cGUiOiJwaWN0IiwiY29sIjoxLCJjYXQiOiI4NSIsImJhbiI6NDc4OTczLCJhbXAiOmZhbHNlfQ%3D%3D" target="_blank" rel="nofollow sponsored noopener">
                <img src="https://hbb.afl.rakuten.co.jp/hsb/4e9240a2.33577567.3d95c766.8a7897b5/?me_id=1&me_adv_id=478973&t=pict" border="0" alt="æ¥½å¤©ã‚¢ãƒ•ã‚£ãƒªã‚¨ã‚¤ãƒˆ">
            </a>
        </div>
        <a href="https://mofu-mitsu.github.io/" class="back-top">ã‚‚ãµã¿ã¤å·¥æˆ¿ TOPã¸æˆ»ã‚‹</a>
    </footer>
    <script>
        // ã¾ã°ãŸãã‚¢ãƒ‹ãƒ¡ï¼ˆãƒ¡ã‚¤ãƒ³ï¼‹ãƒŸãƒ‹ï¼‰
        function blink() {
            const main = document.getElementById('senkuMain');
            const mini = document.getElementById('miniSenku');
            if(main) main.style.backgroundImage = "url('senku-main-blink.png')";
            if(mini && mini.style.display !== 'none') mini.style.backgroundImage = "url('senku-mini-blink.png')";
            setTimeout(() => {
                if(main) main.style.backgroundImage = "url('senku-main.png')";
                if(mini && mini.style.display !== 'none') mini.style.backgroundImage = "url('senku-mini.png')";
            }, 150);
        }
        setInterval(blink, 4000);
        setTimeout(blink, 2000); // æœ€åˆå°‘ã—æ—©ã

        // ãƒ¬ã‚·ãƒ”æ±ºå®šæ™‚ã®è¡¨æƒ…å¤‰åŒ–
        const originalShowRandomDish = showRandomDish;
        showRandomDish = function() {
            originalShowRandomDish();
            const main = document.getElementById('senkuMain');
            const mini = document.getElementById('miniSenku');
            
            // ãƒãƒƒãƒã—ãªã‹ã£ãŸã¨ã
            if(document.querySelector('.dish') && document.querySelector('.dish').textContent.includes('å³ã—ã„çµ„ã¿åˆã‚ã›')) {
                main.style.backgroundImage = "url('senku-main-majime.png')";
            } else {
                main.style.backgroundImage = "url('senku-main-niya.png')";
            }
            
            mini.style.display = 'block';
            setTimeout(() => {
                main.style.backgroundImage = "url('senku-main.png')";
            }, 3000);
        };
        const normalize = text => text.replace(/ç‰ã­ã|ç‰ãƒã‚®|ã‚¿ãƒãƒã‚®|ç‰è‘±/gi, "ç‰ã­ã")
                                     .replace(/é¶è‚‰|é¶ã‚‚ã‚‚|é¶ã‚‚ã‚‚è‚‰/gi, "é¶ã‚‚ã‚‚è‚‰")
                                     .replace(/è±šè‚‰|è±šãƒãƒ©|è±šã“ã¾/gi, "è±šè‚‰")
                                     .replace(/ã»ã†ã‚Œã‚“è‰|ãƒ›ã‚¦ãƒ¬ãƒ³è‰/gi, "ã»ã†ã‚Œã‚“è‰")
                                     .replace(/ã•ã°|é¯–/gi, "ã•ã°");

        const data = { "pairs": [
            {"ingredients":["é¶ã‚‚ã‚‚è‚‰","ç‰ã­ã"],"recipes":[
                {"name":"è¦ªå­ä¸¼ï¼ˆç°¡å˜ï¼‰","ingredients":["é¶ã‚‚ã‚‚è‚‰ 200g","ç‰ã­ã 1/2å€‹","åµ 2å€‹","ã‚ã‚“ã¤ã‚†ï¼ˆ3å€å¸Œé‡ˆï¼‰150ml","æ°´ 100ml"],"time_min":15,"difficulty":"â˜…â˜†â˜†","steps":["ç‰ã­ãè–„åˆ‡ã‚Šã§å¼·ç«1åˆ†ç‚’ã‚ã‚‹","é¶è‚‰ä¸€å£å¤§å…¥ã‚Œã¦ä¸€ç·’ã«ç‚’ã‚ã‚‹","ã‚ã‚“ã¤ã‚†ï¼‹æ°´ã§ç…®ç«‹ã¦ä¸­ç«5åˆ†","æº¶ãåµ2å›ã«åˆ†ã‘ã¦æµã—å…¥ã‚Œ30ç§’ã§å®Œæˆ"],"senku_comment":"ç‰ã­ãã®ç”˜ã•ã¯æœ€åˆã«ç‚’ã‚ã‚‹ã“ã¨ã§å‡ºã‚‹ã€‚å¤±æ•—ã—ã‚ˆã†ãŒãªã„ã€‚" },
                {"name":"é¶ã®ã‚¬ãƒ¼ãƒªãƒƒã‚¯ã‚½ãƒ†ãƒ¼","ingredients":["é¶ã‚‚ã‚‚è‚‰ 200g","ç‰ã­ã 1/4å€‹","ã«ã‚“ã«ã 1ç‰‡","ã‚ªãƒªãƒ¼ãƒ–ã‚ªã‚¤ãƒ« å¤§ã•ã˜1","å¡© å°ã•ã˜1/2","é»’èƒ¡æ¤’ é©é‡","ãƒ¬ãƒ¢ãƒ³æ± å°‘ã€…"],"time_min":20,"difficulty":"â˜…â˜…â˜†","steps":["é¶è‚‰ã«å¡©èƒ¡æ¤’","å¼·ç«ã§çš®ç›®ã‹ã‚‰ç„¼ãç›®","ç‰ã­ãã¨ã«ã‚“ã«ãã‚¹ãƒ©ã‚¤ã‚¹æŠ•å…¥","è£è¿”ã—ã¦è“‹ã—ã¦å¼±ç«4åˆ†","ãƒ¬ãƒ¢ãƒ³çµã£ã¦å®Œæˆ"],"senku_comment":"ç„¼ãç›®ãŒå‘½ã€‚ãƒ¬ãƒ¢ãƒ³ã‚ã‚‹ãªã‚‰çµ¶å¯¾çµã‚Œã€‚" }
            ]},
            {"ingredients":["è±šè‚‰","ã‚­ãƒ£ãƒ™ãƒ„"],"recipes":[
                {"name":"è¶…ç°¡å˜å›é‹è‚‰","ingredients":["è±šè–„åˆ‡ã‚Šè‚‰ 150g","ã‚­ãƒ£ãƒ™ãƒ„ 1/4å€‹","ç”œéººé†¤ å¤§ã•ã˜1","è±†æ¿é†¤ å°ã•ã˜1","é†¤æ²¹ å¤§ã•ã˜1","é…’ å¤§ã•ã˜1","ã”ã¾æ²¹ é©é‡"],"time_min":20,"difficulty":"â˜…â˜…â˜†","steps":["è±šã¯é…’å°‘ã€…ã§ä¸‹èŒ¹ã§","ã”ã¾æ²¹ã§è±šâ†’ã‚­ãƒ£ãƒ™ãƒ„ã®é †ã§å¼·ç«ç‚’ã‚","èª¿å‘³æ–™å…¨éƒ¨å…¥ã‚Œã¦1åˆ†çµ¡ã‚ã‚‹"],"senku_comment":"ã‚­ãƒ£ãƒ™ãƒ„ã¯æœ€å¾Œã«30ç§’ã€‚ã‚·ãƒ£ã‚­ã‚·ãƒ£ã‚­æ®‹ã™ã®ãŒãƒ—ãƒ­ã€‚" }
            ]},
            {"ingredients":["ãƒ„ãƒŠç¼¶","ã‚­ãƒ£ãƒ™ãƒ„"],"recipes":[
                {"name":"ãƒ„ãƒŠã‚­ãƒ£ãƒ™ãƒ„","ingredients":["ãƒ„ãƒŠç¼¶ 1ç¼¶ï¼ˆæ²¹ã”ã¨ï¼‰","ã‚­ãƒ£ãƒ™ãƒ„ å¥½ããªã ã‘","å¡©èƒ¡æ¤’ é©é‡","ãƒãƒ¨ãƒãƒ¼ã‚º ãŠå¥½ã¿ã§"],"time_min":5,"difficulty":"â˜…â˜†â˜†","steps":["ã‚­ãƒ£ãƒ™ãƒ„ã–ãåˆ‡ã‚Š","ãƒ„ãƒŠç¼¶æ²¹ã”ã¨å…¨éƒ¨ã¶ã¡è¾¼ã‚€","å¡©èƒ¡æ¤’ã ã‘","ãƒãƒ¨ãƒãƒ¼ã‚ºã‹ã‘ã¦ã‚‚ã†ã¾ã„"],"senku_comment":"ã“ã‚Œæœ€å¼·ã€‚5åˆ†ã§é£Ÿãˆã‚‹ã€‚ä¿ºã®å†·è”µåº«å¸¸å‚™ã€‚" }
            ]},
            {"ingredients":["ã•ã°","å¤§æ ¹"],"recipes":[
                {"name":"ã•ã°ã®å‘³å™Œç…®ï¼‹å¤§æ ¹æ·»ãˆ","ingredients":["ã•ã°åˆ‡ã‚Šèº« 2åˆ‡ã‚Œ","å¤§æ ¹ 1/4æœ¬","å‘³å™Œ å¤§ã•ã˜2","é…’ å¤§ã•ã˜3","ã¿ã‚Šã‚“ å¤§ã•ã˜2","ç ‚ç³– å¤§ã•ã˜1","ç”Ÿå§œ è–„åˆ‡ã‚Š5æš","æ°´ 200ml"],"time_min":30,"difficulty":"â˜…â˜…â˜…","steps":["å¤§æ ¹ã¯é¢å–ã‚Šã—ã¦ä¸‹èŒ¹ã§","ã•ã°ã¯ç„¼ã„ã¦è‡­ã¿å–ã‚Š","å…¨éƒ¨é‹ã«ã¶ã¡è¾¼ã‚“ã§ä¸­ç«15åˆ†","å‘³å™Œã¯æœ€å¾Œæº¶ãå…¥ã‚Œ"],"senku_comment":"æ™‚é–“ã‹ã‹ã‚‹ã‘ã©ä¸å¯§ã«ã‚„ã‚Œã°å®¶åº­ã®å‘³ã«ãªã‚‹ã€‚å†¬ã«æœ€é«˜ã€‚" }
            ]},
            {"ingredients":["ã»ã†ã‚Œã‚“è‰","åµ"],"recipes":[
                {"name":"ã»ã†ã‚Œã‚“è‰ã®åµã¨ã˜","ingredients":["ã»ã†ã‚Œã‚“è‰ 1/2æŸ","åµ 2å€‹","ã ã— 150ml","é†¤æ²¹ å¤§ã•ã˜1","ã¿ã‚Šã‚“ å°ã•ã˜1"],"time_min":10,"difficulty":"â˜…â˜†â˜†","steps":["ã»ã†ã‚Œã‚“è‰ã¯ã•ã£ã¨èŒ¹ã§ã¦3cmã«åˆ‡ã‚‹","ã ã—ï¼‹é†¤æ²¹ï¼‹ã¿ã‚Šã‚“ã§ç…®ã‚‹","æº¶ãåµã§ãµã‚“ã‚ã‚Šã¨ã˜ã‚‹"],"senku_comment":"ã‚·ãƒ³ãƒ—ãƒ«ã ã‘ã©æ „é¤Šæº€ç‚¹ã€‚æœã§ã‚‚ã„ã‘ã‚‹ã€‚" }
            ]},
            {"ingredients":["è±†è…","ã­ã","ç”Ÿå§œ"],"recipes":[
                {"name":"å†·ã‚„å¥´ã‚¢ãƒ¬ãƒ³ã‚¸","ingredients":["è±†è… 1ä¸","ã­ã ãŸã£ã·ã‚Š","ç”Ÿå§œã™ã‚ŠãŠã‚ã— å±±ç››ã‚Š","é†¤æ²¹ é©é‡"],"time_min":3,"difficulty":"â˜…â˜†â˜†","steps":["è±†è…å†·ãŸã„ã¾ã¾","ã­ãã¿ã˜ã‚“åˆ‡ã‚Šï¼‹ç”Ÿå§œã™ã‚ŠãŠã‚ã—","é†¤æ²¹ã¯ã‹ã‘ã™ãå³ç¦"],"senku_comment":"ã“ã‚Œã§å®Œçµã€‚å‘³ãŒæ­»ã¬ã‹ã‚‰é†¤æ²¹ã¯æ§ãˆã‚ã«ãªã€‚" }
            ]},
            {"ingredients":["é®­","ã»ã†ã‚Œã‚“è‰"],"recipes":[
                {"name":"é®­ã¨ã»ã†ã‚Œã‚“è‰ã®ã‚¯ãƒªãƒ¼ãƒ ç…®","ingredients":["é®­åˆ‡ã‚Šèº« 2åˆ‡ã‚Œ","ã»ã†ã‚Œã‚“è‰ 1/2æŸ","ç‰›ä¹³ 200ml","ãƒã‚¿ãƒ¼ 10g","å°éº¦ç²‰ å¤§ã•ã˜1","ã‚³ãƒ³ã‚½ãƒ¡ å°ã•ã˜1","å¡©èƒ¡æ¤’ é©é‡"],"time_min":20,"difficulty":"â˜…â˜…â˜†","steps":["é®­ã«å¡©ã—ã¦ä¸¡é¢ç„¼ã","ã»ã†ã‚Œã‚“è‰ã¯èŒ¹ã§ã¦æ°´æ°—åˆ‡ã‚‹","ãƒã‚¿ãƒ¼ã§å°éº¦ç²‰ç‚’ã‚ã¦ç‰›ä¹³ã§ä¼¸ã°ã™","ã‚³ãƒ³ã‚½ãƒ¡ã§å‘³èª¿æ•´ã—ã¦å…·ææŠ•å…¥"],"senku_comment":"å‘³ã¯ã‚³ãƒ³ã‚½ãƒ¡ã§æ±ºã¾ã‚‹ã€‚ãƒ‘ãƒ³ã§ã‚‚ã”é£¯ã§ã‚‚çµ¶å¯¾ã„ã‘ã‚‹ã€‚" }
            ]}
        ]};

        let currentIngredients = [];
        let currentDishText = "";

        document.getElementById('input').addEventListener('keypress', e => { if(e.key==='Enter') search(); });

        function search() {
            const raw = document.getElementById('input').value.trim();
            if(!raw) return;
            currentIngredients = raw.split(/\s+/).map(normalize);
            updateTags();
            showRandomDish();
        }

        function updateTags() {
            const tagsDiv = document.getElementById('tags');
            tagsDiv.innerHTML = '';
            currentIngredients.forEach(t => {
                const tag = document.createElement('span');
                tag.className = 'tag';
                tag.textContent = t;
                tagsDiv.appendChild(tag);
            });
        }

        function showRandomDish() {
            const matched = [];
            for(const pair of data.pairs) {
                const normalizedPair = pair.ingredients.map(normalize);
                const hitCount = normalizedPair.filter(i => currentIngredients.includes(i)).length;
                if(hitCount >= normalizedPair.length - 1) matched.push(...pair.recipes);
            }

            if(matched.length === 0) {
                document.getElementById('dish-output').innerHTML = '<div class="dish">â€¦â€¦ã¡ã‚‡ã£ã¨å³ã—ã„çµ„ã¿åˆã‚ã›ã ãªã€‚ã§ã‚‚å†·è”µåº«ã‚‚ã†ä¸€å›è¦‹ã¦ã¿ã‚ã‚ˆã€‚</div>';
                return;
            }

            const dish = matched[Math.floor(Math.random() * matched.length)];
            currentDishText = `${dish.name}\né›£æ˜“åº¦ï¼š${dish.difficulty}ã€€ç´„${dish.time_min}åˆ†\n\nã€ææ–™ã€‘\n${dish.ingredients.join("\n")}\n\nã€æ‰‹é †ã€‘\n${dish.steps.map((s,i)=>`${i+1}. ${s}`).join("\n")}\n\nã€Œ${dish.senku_comment}ã€`;

            document.getElementById('dish-output').innerHTML = `
                <div class="dish">
                    <div class="name">${dish.name}</div>
                    <div class="info">${dish.difficulty}ã€€ç´„${dish.time_min}åˆ†</div>
                    <div class="ingredients"><strong>ææ–™ï¼š</strong>${dish.ingredients.join("ã€€ï¼ã€€")}</div>
                    <div class="steps"><strong>æ‰‹é †</strong><br><ol start="1">
                        ${dish.steps.map(s => `<li>${s}</li>`).join('')}
                    </ol></div>
                    <div class="comment">ã€Œ${dish.senku_comment}ã€</div>
                    <div class="action-buttons">
                        <div class="copy-btn" onclick="copyOnly()">ğŸ“‹ ã‚³ãƒ”ãƒ¼</div>
                        <div class="share-btn" onclick="shareRecipe()">ğŸ”— å…±æœ‰</div>
                    </div>
                </div>
            `;
            document.getElementById('result').style.display = 'block';
        }

        function copyOnly() {
            navigator.clipboard.writeText(currentDishText).then(() => {
                alert("ãƒ¬ã‚·ãƒ”ã‚’ã‚³ãƒ”ãƒ¼ã—ãŸã");
            });
        }

        function shareRecipe() {
            if(navigator.share) {
                navigator.share({
                    title: "ã›ã‚“ãã‚·ã‚§ãƒ•ã®çŒ®ç«‹",
                    text: currentDishText
                }).catch(() => {
                    fallbackCopy();
                });
            } else {
                fallbackCopy();
            }
        }

        function fallbackCopy() {
            navigator.clipboard.writeText(currentDishText).then(() => {
                alert("å…±æœ‰ã§ããªã„ç’°å¢ƒã ã‹ã‚‰ã‚³ãƒ”ãƒ¼ã—ãŸã");
            });
        }

        function randomMenu() {
            const randomPair = data.pairs[Math.floor(Math.random()*data.pairs.length)];
            document.getElementById('input').value = randomPair.ingredients.join(" ");
            search();
        }
        const originalShowRandomDish = showRandomDish;
        showRandomDish = function() {
            originalShowRandomDish();
            document.getElementById('mini-senku').style.display = 'block';
        };
    </script>
</body>
</html>
